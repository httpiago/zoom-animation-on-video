parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"UnXq":[function(require,module,exports) {
"use strict";function e(e){return Math.round(e/16*9)}function t(e){var t=e.getBoundingClientRect(),n=t.left,i=t.top,r=t.width,s=t.height,d=Math.max(Math.min(window.innerWidth/r,window.innerHeight/s),1);return o(d,{left:n*=d,top:i*=d,width:r,height:s})}function n(e){return o(1)}function o(e,t){return new Promise(function(n,o){var i=void 0!==window.scrollX?window.scrollX:window.pageXOffset,r=void 0!==window.scrollY?window.scrollY:window.pageYOffset;if(1===e)document.body.style.transform="";else{t.left-=(window.innerWidth-t.width*e)/2,t.top-=(window.innerHeight-t.height*e)/2;var s=i+"px "+r+"px",d="translate("+-t.left+"px,"+-t.top+"px) scale("+e+")";document.body.style.transformOrigin=s,document.body.style.transform=d,document.body.style.transition="transform 800ms ease"}setTimeout(n,800)})}exports.__esModule=!0,exports.isFirefox="undefined"!=typeof InstallTrigger,exports.checkIsFullScreen=function(){return document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement||!1},exports.checkIsMobile=function(){return window.innerWidth<640},exports.calcWidthAspectRatio=e,exports.zoomIn=t,exports.zoomOut=n;
},{}],"d6pW":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))(function(n,s){function o(e){try{a(r.next(e))}catch(t){s(t)}}function l(e){try{a(r.throw(e))}catch(t){s(t)}}function a(e){e.done?n(e.value):new i(function(t){t(e.value)}).then(o,l)}a((r=r.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var i,r,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(s){return function(l){return function(s){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,r&&(n=2&s[0]?r.return:s[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,s[1])).done)return n;switch(r=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(l){s=[6,l],r=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};exports.__esModule=!0;var i=require("./utils"),r=function(){function r(e){var t=this;this.videoId=e,this.wrapper=document.querySelector(".video__wrapper"),this.iframe=this.wrapper.querySelector("#ytplayer"),this.overlay=this.wrapper.querySelector(".video__overlay"),this.isFullscreen=!1,this.ytplayer=new YT.Player(this.iframe,{videoId:this.videoId,height:1,width:1,playerVars:{controls:0},events:{onReady:function(){return t.onInit()},onStateChange:function(e){}}})}return r.prototype.onInit=function(){var e=this;this.iframe=this.wrapper.querySelector("#ytplayer"),this.calcPlayerSize(),window.addEventListener("resize",function(){return e.calcPlayerSize()}),this.overlay.addEventListener("click",function(){return e.onPlay()}),this.iframe.addEventListener("fullscreenchange",function(){e.isFullscreen=i.checkIsFullScreen(),!1===e.isFullscreen&&e.onExitFullScreen(),console.log("this.isFullscreen",e.isFullscreen)})},r.prototype.onPlay=function(){return e(this,void 0,void 0,function(){return t(this,function(e){switch(e.label){case 0:return!0===this.isFullscreen?[2]:(this.overlay.style.display="none",this.ytplayer.playVideo(),i.checkIsMobile()?[2,this.requestFullScreen()]:i.isFirefox?(this.requestFullScreen(),i.zoomIn(this.wrapper),[3,3]):[3,1]);case 1:return[4,i.zoomIn(this.wrapper)];case 2:e.sent(),this.requestFullScreen(),e.label=3;case 3:return[2]}})})},r.prototype.onExitFullScreen=function(){return e(this,void 0,void 0,function(){return t(this,function(e){switch(e.label){case 0:return this.ytplayer.pauseVideo(),i.checkIsMobile()?[3,2]:[4,i.zoomOut(this.wrapper)];case 1:e.sent(),e.label=2;case 2:return this.overlay.style.display="",[2]}})})},r.prototype.requestFullScreen=function(){var e=this.iframe.requestFullscreen||this.iframe.mozRequestFullscreen||this.iframe.webkitRequestFullscreen;e&&e.bind(this.iframe)()},r.prototype.calcPlayerSize=function(){var e=.4*window.innerWidth,t=window.innerWidth-60;this.width=i.checkIsMobile()?t:e,this.height=i.calcWidthAspectRatio(this.width),this.wrapper.style.height=this.height+"px",this.wrapper.style.width=this.width+"px",this.iframe.style.height=this.height+"px",this.iframe.style.width=this.width+"px",document.body.classList.toggle("is-mobile",i.checkIsMobile())},r}();exports.default=r;
},{"./utils":"UnXq"}],"ZCfc":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};exports.__esModule=!0;var t=require("./utils"),o=e(require("./player")),n="ucAg5oeb0vE";window.onYouTubePlayerAPIReady=function(){new o.default(n)},document.addEventListener("DOMContentLoaded",function(){document.body.classList.toggle("is-mobile",t.checkIsMobile())}),document.querySelector(".call-to-action").addEventListener("click",function(){document.querySelector(".video__overlay").click()});
},{"./utils":"UnXq","./player":"d6pW"}]},{},["ZCfc"], null)
//# sourceMappingURL=https://iagobruno.github.io/zoom-animation-on-video/main.b7fe6f45.js.map